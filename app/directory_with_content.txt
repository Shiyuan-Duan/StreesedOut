Directory Structure:

app/
    fear-conditioning.js
    describe.py
    directory_with_content.txt
    +not-found.tsx
    auditory-oddball.js
    mist-question.js
    _layout.tsx
    motor-imagery.js
    mental-relaxation.js
    ema-questionnaire.js
    (tabs)/
        ParadigmSelectionScreen.js
        index.tsx
        _layout.tsx
        explore.tsx
    utils/
        ImageManager.js


Files with '.js' or '.tsx' extensions and their content:

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/fear-conditioning.js
================================================================================
import React, { useState, useEffect } from 'react';
import { View, Text, Button, StyleSheet, Image } from 'react-native';
import images from './utils/ImageManager'; // Import images from ImageManager.js

export default function FearConditioningScreen() {
  const [step, setStep] = useState('start'); // Current step: 'start', 'countdown', 'images', 'break', 'end'
  const [countdown, setCountdown] = useState(15); // Countdown timer for 'countdown' step
  const [currentImageIndex, setCurrentImageIndex] = useState(0); // Index of the current image in the set
  const [currentSequenceIndex, setCurrentSequenceIndex] = useState(0); // Index of the current play sequence
  const [imageSet, setImageSet] = useState([]); // Current set of images to display
  const [timeLeft, setTimeLeft] = useState(0); // Timer for 'break' step

  const IMAGE_DISPLAY_DURATION = 2000; // 2 seconds per image
  const BREAK_DURATION = 10; // 10 seconds break (in seconds)

  // Hard-coded play sequence
  const playSequence = [
    { category: 'Fear', set: 'Set 1' },
    { category: 'Happy', set: 'Set 3' },
    { category: 'Fear', set: 'Set 2' },
    { category: 'Happy', set: 'Set 4' },
    { category: 'Fear', set: 'Set 3' },
  ];

  // Load the next image set when the sequence changes
  useEffect(() => {
    if (currentSequenceIndex < playSequence.length) {
      const { category, set } = playSequence[currentSequenceIndex];
      setImageSet(shuffle(images[category][set])); // Shuffle images in the set
    } else {
      setStep('end');
    }
  }, [currentSequenceIndex]);

  // Handle transitions based on the current step
  useEffect(() => {
    let timer;

    switch (step) {
      case 'countdown':
        if (countdown > 0) {
          timer = setTimeout(() => setCountdown((prev) => prev - 1), 1000);
        } else {
          setStep('images');
          setCurrentImageIndex(0); // Reset the image index
        }
        break;

      case 'images':
        if (currentImageIndex < imageSet.length) {
          timer = setTimeout(() => setCurrentImageIndex((prev) => prev + 1), IMAGE_DISPLAY_DURATION);
        } else {
          setStep('break');
          setTimeLeft(BREAK_DURATION);
        }
        break;

      case 'break':
        if (timeLeft > 0) {
          timer = setTimeout(() => setTimeLeft((prev) => prev - 1), 1000);
        } else {
          setCurrentSequenceIndex((prev) => prev + 1); // Move to the next sequence
          setStep('countdown');
          setCountdown(5); // Reset the countdown
        }
        break;

      default:
        break;
    }

    return () => clearTimeout(timer); // Clear the timer when the step changes
  }, [step, countdown, currentImageIndex, timeLeft]);

  // Shuffle an array
  function shuffle(array) {
    return array.sort(() => Math.random() - 0.5);
  }


  return (
    <View style={styles.container}>
      <View style={styles.content}>
        {step === 'start' && (
          <View style={styles.buttonContainer}>
            <Button title="Start" onPress={() => setStep('countdown')} />
          </View>
        )}
        {step === 'countdown' && (
          <Text style={styles.text}>Starting in... {countdown} seconds</Text>
        )}
        {step === 'images' && imageSet.length > 0 && (
          <Image
            source={imageSet[currentImageIndex]}
            style={styles.image}
            resizeMode="contain"
          />
        )}
        {step === 'break' && (
          <Text style={styles.text}>Take a break... {timeLeft} seconds remaining</Text>
        )}
        {step === 'end' && (
          <Text style={styles.text}>The session is complete. Thank you!</Text>
        )}
      </View>
    </View>
  );
}
const styles = StyleSheet.create({
    container: {
      flex: 1,
      // Align items to the center horizontally but not vertically
      alignItems: 'center',
    //   backgroundColor: '#f8f9fa',
    backgroundColor: 'black',
      
    },
    content: {
      width: '100%',
      alignItems: 'center',
      // Optional: Add a base top margin for all content
      marginTop: 20,
      
    },
    text: {
      fontSize: 24,
      fontWeight: 'bold',
      color: '#333',
      textAlign: 'center',
      marginTop: 50, // Add marginTop if you want text to have a larger top margin
    },
    image: {
      width: 300,
      height: 300,
      marginTop: 50, // Larger top margin for images
      marginBottom: 20,
    },
    buttonContainer: {
      marginTop: 50, // Larger top margin for the button
    },
  });
  
================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/+not-found.tsx
================================================================================
import { Link, Stack } from 'expo-router';
import { StyleSheet } from 'react-native';

import { ThemedText } from '@/components/ThemedText';
import { ThemedView } from '@/components/ThemedView';

export default function NotFoundScreen() {
  return (
    <>
      <Stack.Screen options={{ title: 'Oops!' }} />
      <ThemedView style={styles.container}>
        <ThemedText type="title">This screen doesn't exist.</ThemedText>
        <Link href="/" style={styles.link}>
          <ThemedText type="link">Go to home screen!</ThemedText>
        </Link>
      </ThemedView>
    </>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: 'center',
    justifyContent: 'center',
    padding: 20,
  },
  link: {
    marginTop: 15,
    paddingVertical: 15,
  },
});

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/auditory-oddball.js
================================================================================
import React, { useState, useEffect, useRef } from 'react';
import {
  View,
  Text,
  StyleSheet,
  TouchableOpacity,
  Dimensions,
  Alert,
  ScrollView,
} from 'react-native';
import { Audio } from 'expo-av';
import { MaterialCommunityIcons } from '@expo/vector-icons';

const { width: SCREEN_WIDTH } = Dimensions.get('window');

export default function AuditoryOddballScreen() {
  const [step, setStep] = useState('introduction'); // 'introduction', 'task', 'questionnaire', 'completion'
  const [timeLeft, setTimeLeft] = useState(600); // 10 minutes in seconds
  const [isPlaying, setIsPlaying] = useState(false);
  const [responseCount, setResponseCount] = useState(0);
  const [responses, setResponses] = useState({
    stressLevel: null,
  });

  const standardTone = useRef(new Audio.Sound());
  const deviantTone = useRef(new Audio.Sound());
  const toneIntervalRef = useRef(null);
  const timerRef = useRef(null);

  // Load the audio files
  useEffect(() => {
    const loadSounds = async () => {
      try {
        await standardTone.current.loadAsync(require('../assets/1000.wav'));
        await deviantTone.current.loadAsync(require('../assets/1500.wav'));
      } catch (error) {
        console.error('Error loading sounds:', error);
      }
    };

    loadSounds();

    // Unload sounds on unmount
    return () => {
      standardTone.current.unloadAsync();
      deviantTone.current.unloadAsync();
    };
  }, []);

  // Start the task timer
  useEffect(() => {
    if (step === 'task') {
      setIsPlaying(true);

      timerRef.current = setInterval(() => {
        setTimeLeft((prevTime) => {
          if (prevTime <= 1) {
            clearInterval(timerRef.current);
            clearInterval(toneIntervalRef.current);
            setIsPlaying(false);
            setStep('questionnaire');
            return 0;
          }
          return prevTime - 1;
        });
      }, 1000);

      // Play tones at intervals
      toneIntervalRef.current = setInterval(() => {
        playTone();
      }, 2000); // Play a tone every 2 seconds

      // Cleanup on unmount
      return () => {
        clearInterval(timerRef.current);
        clearInterval(toneIntervalRef.current);
      };
    }
  }, [step]);

  const playTone = async () => {
    // Randomly decide whether to play standard or deviant tone
    const isDeviant = Math.random() < 0.2; // 20% probability
    try {
      // Stop any currently playing sounds
      await standardTone.current.stopAsync().catch(() => {});
      await deviantTone.current.stopAsync().catch(() => {});

      if (isDeviant) {
        await deviantTone.current.replayAsync();
      } else {
        await standardTone.current.replayAsync();
      }
    } catch (error) {
      console.error('Error playing tone:', error);
    }
  };

  const handleUserResponse = () => {
    // Increment response count
    setResponseCount((prevCount) => prevCount + 1);
    // Provide feedback (optional)
    Alert.alert('Response Recorded', 'You pressed the button.');
  };

  const handleSubmit = async () => {
    const data = {
      paradigm: 'AuditoryOddball',
      ambulatoryUUID: 'dummy',
      time: new Date().toISOString(),
      responses,
      responseCount,
    };

    try {
      const response = await fetch('http://localhost:3000/submit', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      });

      if (response.ok) {
        console.log('Data submitted successfully');
        Alert.alert('Success', 'Your responses have been submitted.');
        setStep('completion');
      } else {
        console.error('Error submitting data');
        Alert.alert('Error', 'There was a problem submitting your responses.');
      }
    } catch (error) {
      console.error('Network error:', error);
      Alert.alert('Error', 'Network error occurred while submitting your responses.');
    }
  };

  const isFormComplete = Object.values(responses).every((value) => value !== null);

  return (
    <View style={styles.container}>
      {step === 'introduction' && (
        <View style={styles.content}>
          <Text style={styles.title}>Auditory Oddball Task</Text>
          <Text style={styles.description}>
            In this task, you'll hear a series of tones. Press the button whenever you hear the higher-pitched tone.
          </Text>
          <TouchableOpacity style={styles.button} onPress={() => setStep('task')}>
            <Text style={styles.buttonText}>Start Task</Text>
          </TouchableOpacity>
        </View>
      )}

      {step === 'task' && (
        <View style={styles.content}>
          <Text style={styles.title}>Listen Carefully</Text>
          <Text style={styles.description}>
            Press the button below whenever you hear the deviant tone.
          </Text>
          <Text style={styles.timer}>
            Time Left: {Math.floor(timeLeft / 60)}:{String(timeLeft % 60).padStart(2, '0')}
          </Text>
          <TouchableOpacity style={styles.responseButton} onPress={handleUserResponse}>
            <Text style={styles.responseButtonText}>Press when you hear the deviant tone</Text>
          </TouchableOpacity>
        </View>
      )}

      {step === 'questionnaire' && (
        <ScrollView contentContainerStyle={styles.content} showsVerticalScrollIndicator={false}>
          <Text style={styles.title}>Self-Report Questionnaire</Text>
          <View style={styles.questionContainer}>
            <Text style={styles.questionText}>How stressed do you feel now?</Text>
            <RatingScale
              questionKey="stressLevel"
              response={responses.stressLevel}
              onPress={(key, rating) => {
                setResponses((prev) => ({ ...prev, [key]: rating }));
              }}
            />
          </View>

          {/* Submit Button */}
          <TouchableOpacity
            style={[styles.submitButton, !isFormComplete && styles.disabledButton]}
            onPress={handleSubmit}
            disabled={!isFormComplete}
          >
            <Text style={styles.submitButtonText}>Submit</Text>
          </TouchableOpacity>
        </ScrollView>
      )}

      {step === 'completion' && (
        <View style={styles.content}>
          <Text style={styles.title}>Thank You!</Text>
          <Text style={styles.description}>
            Your responses have been recorded. We appreciate your participation.
          </Text>
        </View>
      )}
    </View>
  );
}

// RatingScale Component
function RatingScale({ questionKey, response, onPress }) {
  const stressLevels = [
    { level: 0, icon: 'emoticon-sad-outline', color: '#F44336' },
    { level: 1, icon: 'emoticon-neutral-outline', color: '#FF9800' },
    { level: 2, icon: 'emoticon-happy-outline', color: '#FFEB3B' },
    { level: 3, icon: 'emoticon-excited-outline', color: '#8BC34A' },
    { level: 4, icon: 'emoticon-cool-outline', color: '#4CAF50' },
  ];

  return (
    <View style={styles.ratingContainer}>
      {stressLevels.map((item) => (
        <TouchableOpacity
          key={item.level}
          style={styles.iconContainer}
          onPress={() => onPress(questionKey, item.level)}
        >
          <MaterialCommunityIcons
            name={item.icon}
            size={50}
            color={response === item.level ? item.color : '#d3d3d3'}
          />
          <Text style={styles.ratingLabel}>{item.level}</Text>
        </TouchableOpacity>
      ))}
    </View>
  );
}

const styles = StyleSheet.create({
    // Container styles
    container: {
      flex: 1,
      backgroundColor: '#f8f9fa',
    },
    content: {
      flex: 1,
      paddingVertical: 20,
      alignItems: 'center', // Center horizontally
      paddingHorizontal: 20,
      paddingTop:50,
    //   justifyContent: 'center', // Center vertically
    },
    // Text styles
    title: {
      fontSize: 28,
      fontWeight: 'bold',
      color: '#333',
      textAlign: 'center',
      marginBottom: 20,
    },
    description: {
      fontSize: 18,
      color: '#555',
      textAlign: 'center',
      marginBottom: 30,
    },
    timer: {
      fontSize: 18,
      color: '#777',
      textAlign: 'center',
      marginBottom: 20,
    },
    // Button styles
    button: {
      backgroundColor: '#4682B4',
      paddingVertical: 15,
      paddingHorizontal: 30,
      borderRadius: 5,
      marginTop: 30,
    },
    buttonText: {
      color: '#fff',
      fontSize: 20,
      fontWeight: 'bold',
    },
    responseButton: {
      backgroundColor: '#FF9800',
      paddingVertical: 15,
      paddingHorizontal: 20,
      borderRadius: 5,
      marginTop: 20,
    },
    responseButtonText: {
      color: '#fff',
      fontSize: 18,
      textAlign: 'center',
    },
    // Questionnaire styles
    questionContainer: {
      marginBottom: 40,
      width: '100%',
      alignItems: 'center',
    },
    questionText: {
      fontSize: 20,
      color: '#333',
      textAlign: 'center',
      marginBottom: 20,
    },
    // Rating styles
    ratingContainer: {
      flexDirection: 'row',
      justifyContent: 'space-around',
      width: SCREEN_WIDTH * 0.9,
    },
    iconContainer: {
      alignItems: 'center',
    },
    ratingLabel: {
      marginTop: 5,
      fontSize: 14,
      color: '#333',
    },
    // Submit button styles
    submitButton: {
      backgroundColor: '#4682B4',
      paddingVertical: 15,
      paddingHorizontal: 30,
      borderRadius: 5,
      marginTop: 20,
      marginBottom: 40,
    },
    disabledButton: {
      backgroundColor: '#A9A9A9', // Gray color to indicate disabled state
    },
    submitButtonText: {
      color: '#fff',
      fontSize: 18,
      fontWeight: 'bold',
      textAlign: 'center',
    },
  });
  
================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/mist-question.js
================================================================================
import React, { useState, useEffect } from 'react';
import {
  View,
  Text,
  StyleSheet,
  TouchableOpacity,
  Dimensions,
  Alert,
  TextInput,
  KeyboardAvoidingView,
  Platform,
} from 'react-native';

const { width: SCREEN_WIDTH } = Dimensions.get('window');

export default function MISTScreen() {
  const [step, setStep] = useState('introduction'); // 'introduction', 'task', 'completion'
  const [currentProblem, setCurrentProblem] = useState(null);
  const [userAnswer, setUserAnswer] = useState('');
  const [problemIndex, setProblemIndex] = useState(0);
  const [problems, setProblems] = useState([]);
  const [score, setScore] = useState({ correct: 0, incorrect: 0 });

  // Generate problems upon starting the task
  useEffect(() => {
    if (step === 'task') {
      const generatedProblems = generateProblems();
      setProblems(generatedProblems);
      setCurrentProblem(generatedProblems[0]);
    }
  }, [step]);

  const generateProblems = () => {
    const generatedProblems = [];
    const totalProblems = 10; // Adjust the number of problems as needed

    for (let i = 0; i < totalProblems; i++) {
      if (i < totalProblems / 2) {
        // Low stress problems
        generatedProblems.push(generateLowStressProblem());
      } else {
        // Medium stress problems
        generatedProblems.push(generateMediumStressProblem());
      }
    }

    return generatedProblems;
  };

  const generateLowStressProblem = () => {
    // Two operations (addition/subtraction) with single-digit numbers
    const operations = ['+', '-'];
    const num1 = getRandomInt(1, 9);
    const num2 = getRandomInt(1, 9);
    const op1 = operations[Math.floor(Math.random() * operations.length)];

    const expression = `${num1} ${op1} ${num2}`;
    const answer = eval(expression);

    return { expression, answer };
  };

  const generateMediumStressProblem = () => {
    // Three operations (addition/subtraction/multiplication) with double and single-digit numbers
    const operations = ['+', '-', '*'];
    const num1 = getRandomInt(10, 99);
    const num2 = getRandomInt(1, 9);
    const num3 = getRandomInt(1, 9);
    const op1 = operations[Math.floor(Math.random() * operations.length)];
    const op2 = operations[Math.floor(Math.random() * operations.length)];

    const expression = `${num1} ${op1} ${num2} ${op2} ${num3}`;
    const answer = eval(expression);

    return { expression, answer };
  };

  const getRandomInt = (min, max) => {
    // Inclusive of min and max
    return Math.floor(Math.random() * (max - min + 1)) + min;
  };

  const handleInputChange = (text) => {
    // Regular expression to match valid numeric input (including negative numbers)
    const numericRegex = /^-?\d*\.?\d*$/;

    if (numericRegex.test(text)) {
      setUserAnswer(text);
    }
  };

  const handleAnswerSubmit = () => {
    if (userAnswer.trim() === '') {
      Alert.alert('Input Required', 'Please enter your answer.');
      return;
    }

    const correctAnswer = currentProblem.answer;
    const userAnswerNum = parseFloat(userAnswer);

    if (isNaN(userAnswerNum)) {
      Alert.alert('Invalid Input', 'Please enter a valid number.');
      return;
    }

    if (userAnswerNum === correctAnswer) {
      setScore((prev) => ({ ...prev, correct: prev.correct + 1 }));
    } else {
      setScore((prev) => ({ ...prev, incorrect: prev.incorrect + 1 }));
    }

    setUserAnswer('');

    if (problemIndex < problems.length - 1) {
      // Move to the next problem
      const nextIndex = problemIndex + 1;
      setProblemIndex(nextIndex);
      setCurrentProblem(problems[nextIndex]);
    } else {
      // Task completed
      setStep('completion');
    }
  };

  const handleStartTask = () => {
    setStep('task');
  };

  return (
    <View style={styles.container}>
      {step === 'introduction' && (
        <View style={styles.content}>
          <Text style={styles.title}>MIST Task (Mental Arithmetic)</Text>
          <Text style={styles.description}>
            You will be presented with arithmetic problems. Solve each as quickly and accurately as possible without using a calculator.
          </Text>
          <TouchableOpacity style={styles.button} onPress={handleStartTask}>
            <Text style={styles.buttonText}>Start Task</Text>
          </TouchableOpacity>
        </View>
      )}

      {step === 'task' && currentProblem && (
        <KeyboardAvoidingView
          style={styles.content}
          behavior={Platform.OS === 'ios' ? 'padding' : undefined}
        >
          <Text style={styles.problemText}>{currentProblem.expression}</Text>
          <TextInput
            style={styles.input}
            placeholder="Your Answer"
            keyboardType="default"
            autoCorrect={false}
            autoCapitalize="none"
            value={userAnswer}
            onChangeText={handleInputChange}
          />
          <TouchableOpacity style={styles.button} onPress={handleAnswerSubmit}>
            <Text style={styles.buttonText}>Submit Answer</Text>
          </TouchableOpacity>
          <Text style={styles.progressText}>
            Problem {problemIndex + 1} of {problems.length}
          </Text>
        </KeyboardAvoidingView>
      )}

      {step === 'completion' && (
        <View style={styles.content}>
          <Text style={styles.title}>Task Complete</Text>
          <Text style={styles.description}>
            Thank you for completing the task. Here is your score:
          </Text>
          <Text style={styles.scoreText}>Correct Answers: {score.correct}</Text>
          <Text style={styles.scoreText}>Incorrect Answers: {score.incorrect}</Text>
          <TouchableOpacity
            style={styles.button}
            onPress={() => Alert.alert('Well Done!', 'You may proceed with the next task.')}
          >
            <Text style={styles.buttonText}>Finish</Text>
          </TouchableOpacity>
        </View>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  // Container styles
  container: {
    flex: 1,
    backgroundColor: '#f8f9fa',
  },
  content: {
    flex: 1,
    paddingVertical: 20,
    alignItems: 'center', // Center horizontally
    paddingHorizontal: 20,
    // justifyContent: 'center', // Center vertically
  },
  // Text styles
  title: {
    fontSize: 28,
    fontWeight: 'bold',
    color: '#333',
    textAlign: 'center',
    marginBottom: 20,
  },
  description: {
    fontSize: 18,
    color: '#555',
    textAlign: 'center',
    marginBottom: 30,
  },
  problemText: {
    fontSize: 32,
    fontWeight: 'bold',
    color: '#333',
    textAlign: 'center',
    marginBottom: 30,
  },
  input: {
    width: SCREEN_WIDTH * 0.8,
    height: 50,
    borderColor: '#333',
    borderWidth: 1,
    borderRadius: 5,
    paddingHorizontal: 15,
    fontSize: 18,
    marginBottom: 20,
    backgroundColor: '#fff',
  },
  progressText: {
    fontSize: 16,
    color: '#777',
    textAlign: 'center',
    marginTop: 20,
  },
  scoreText: {
    fontSize: 22,
    color: '#333',
    textAlign: 'center',
    marginVertical: 10,
  },
  // Button styles
  button: {
    backgroundColor: '#4682B4',
    paddingVertical: 15,
    paddingHorizontal: 30,
    borderRadius: 5,
    marginTop: 20,
  },
  buttonText: {
    color: '#fff',
    fontSize: 20,
    fontWeight: 'bold',
  },
});

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/_layout.tsx
================================================================================
import { DarkTheme, DefaultTheme, ThemeProvider } from '@react-navigation/native';
import { useFonts } from 'expo-font';
import { Stack } from 'expo-router';
import * as SplashScreen from 'expo-splash-screen';
import { StatusBar } from 'expo-status-bar';
import { useEffect } from 'react';
import 'react-native-reanimated';

import { useColorScheme } from '@/hooks/useColorScheme';

// Prevent the splash screen from auto-hiding before asset loading is complete.
SplashScreen.preventAutoHideAsync();

export default function RootLayout() {
  const colorScheme = useColorScheme();
  const [loaded] = useFonts({
    SpaceMono: require('../assets/fonts/SpaceMono-Regular.ttf'),
  });

  useEffect(() => {
    if (loaded) {
      SplashScreen.hideAsync();
    }
  }, [loaded]);

  if (!loaded) {
    return null;
  }

  return (
    <ThemeProvider value={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>
      <Stack>
        <Stack.Screen name="(tabs)" options={{ headerShown: false }} />
        <Stack.Screen name="+not-found" />
      </Stack>
      <StatusBar style="auto" />
    </ThemeProvider>
  );
}

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/motor-imagery.js
================================================================================
import React, { useState, useEffect, useRef } from 'react';
import { View, Text, StyleSheet, TouchableOpacity, Dimensions, Alert } from 'react-native';

const { width: SCREEN_WIDTH } = Dimensions.get('window');

export default function MotorImageryScreen() {
  const [step, setStep] = useState('introduction'); // 'introduction', 'relaxation', 'preparation', 'squeezing', 'completion'
  const [cycleTimeLeft, setCycleTimeLeft] = useState(5); // Time left in the current squeeze/release cycle
  const [totalTimeLeft, setTotalTimeLeft] = useState(60); // Total time left for the squeezing/releasing cycles
  const [isSqueezing, setIsSqueezing] = useState(true); // Indicates whether the participant should be squeezing or releasing

  const cycleTimerRef = useRef(null);
  const totalTimerRef = useRef(null);

  // Start the squeezing/releasing cycles
  useEffect(() => {
    if (step === 'squeezing') {
      // Start total timer
      totalTimerRef.current = setInterval(() => {
        setTotalTimeLeft((prevTime) => {
          if (prevTime <= 1) {
            clearInterval(totalTimerRef.current);
            clearInterval(cycleTimerRef.current);
            setStep('completion');
            return 0;
          }
          return prevTime - 1;
        });
      }, 1000);

      // Start cycle timer
      cycleTimerRef.current = setInterval(() => {
        setCycleTimeLeft((prevTime) => {
          if (prevTime <= 1) {
            setIsSqueezing((prev) => !prev); // Toggle between squeezing and releasing
            return 5; // Reset cycle time
          }
          return prevTime - 1;
        });
      }, 1000);

      // Cleanup on unmount
      return () => {
        clearInterval(totalTimerRef.current);
        clearInterval(cycleTimerRef.current);
      };
    }
  }, [step]);

  const handleNextStep = async () => {
    switch (step) {
      case 'introduction':
        // Upon clicking 'Begin', send the JSON to the dummy API
        const data = {
          ambulatoryUUID: 'dummy',
          paradigm: 'MotorImagery',
          time: new Date().toISOString(),
        };

        try {
          const response = await fetch('http://localhost:3000/submit', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
          });

          if (response.ok) {
            console.log('Data submitted successfully');
            // Proceed to the next step
            setStep('relaxation');
          } else {
            console.error('Error submitting data');
            Alert.alert('Error', 'There was a problem submitting your data.');
          }
        } catch (error) {
          console.error('Network error:', error);
          Alert.alert('Error', 'Network error occurred while submitting your data.');
          setStep('relaxation')
        }
        break;

      case 'relaxation':
        setStep('preparation');
        break;
      case 'preparation':
        setStep('squeezing');
        break;
      case 'completion':
        // Navigate back or provide additional options
        Alert.alert('Task Completed', 'Thank you for participating in the motor imagery task.');
        break;
      default:
        break;
    }
  };

  return (
    <View style={styles.container}>
      {step === 'introduction' && (
        <View style={styles.content}>
          <Text style={styles.title}>Motor Imagery Task</Text>
          <Text style={styles.description}>
            In this task, you'll perform a motor imagery exercise using a stress ball.
            We'll guide you through the steps.
          </Text>
          <TouchableOpacity style={styles.button} onPress={handleNextStep}>
            <Text style={styles.buttonText}>Begin</Text>
          </TouchableOpacity>
        </View>
      )}

      {step === 'relaxation' && (
        <View style={styles.content}>
          <Text style={styles.title}>Relaxation Exercise</Text>
          <Text style={styles.description}>
            Take a moment to relax. Close your eyes and take a few deep breaths.
          </Text>
          <TouchableOpacity style={styles.button} onPress={handleNextStep}>
            <Text style={styles.buttonText}>I'm Ready</Text>
          </TouchableOpacity>
        </View>
      )}

      {step === 'preparation' && (
        <View style={styles.content}>
          <Text style={styles.title}>Get Your Stress Ball</Text>
          <Text style={styles.description}>
            Please hold the stress ball in your hand.
          </Text>
          <TouchableOpacity style={styles.button} onPress={handleNextStep}>
            <Text style={styles.buttonText}>Start Exercise</Text>
          </TouchableOpacity>
        </View>
      )}

      {step === 'squeezing' && (
        <View style={styles.content}>
          <Text style={styles.title}>
            {isSqueezing ? 'Squeeze the Stress Ball' : 'Release the Tension'}
          </Text>
          <Text style={styles.timer}>
            {cycleTimeLeft} second{cycleTimeLeft !== 1 ? 's' : ''} left
          </Text>
          <Text style={styles.totalTimer}>
            Total Time Left: {totalTimeLeft} second{totalTimeLeft !== 1 ? 's' : ''}
          </Text>
        </View>
      )}

      {step === 'completion' && (
        <View style={styles.content}>
          <Text style={styles.title}>Task Complete</Text>
          <Text style={styles.description}>
            Thank you for completing the motor imagery task. You may now set the stress ball aside.
          </Text>
          <TouchableOpacity style={styles.button} onPress={handleNextStep}>
            <Text style={styles.buttonText}>Finish</Text>
          </TouchableOpacity>
        </View>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  // Container styles
  container: {
    flex: 1,
    backgroundColor: '#f8f9fa',
  },
  content: {
    flex: 1,
    paddingVertical: 20,
    alignItems: 'center', // Center horizontally
    paddingHorizontal: 20,
    marginTop:50,
    // justifyContent: 'center', // Center vertically
  },
  // Text styles
  title: {
    fontSize: 28,
    fontWeight: 'bold',
    color: '#333',
    textAlign: 'center',
    marginBottom: 20,
  },
  description: {
    fontSize: 18,
    color: '#555',
    textAlign: 'center',
    marginBottom: 30,
  },
  timer: {
    fontSize: 36,
    fontWeight: 'bold',
    color: '#333',
    textAlign: 'center',
    marginBottom: 20,
  },
  totalTimer: {
    fontSize: 18,
    color: '#777',
    textAlign: 'center',
  },
  // Button styles
  button: {
    backgroundColor: '#4682B4',
    paddingVertical: 15,
    paddingHorizontal: 30,
    borderRadius: 5,
    marginTop: 30,
  },
  buttonText: {
    color: '#fff',
    fontSize: 20,
    fontWeight: 'bold',
  },
});

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/mental-relaxation.js
================================================================================
import React, { useState, useEffect } from 'react';
import {
  View,
  Text,
  StyleSheet,
  TouchableOpacity,
  Dimensions,
  Alert,
  ScrollView,
  Animated,
} from 'react-native';
import { useNavigation } from 'expo-router';

const { width: SCREEN_WIDTH } = Dimensions.get('window');

export default function MentalRelaxationScreen() {
  const [step, setStep] = useState('introduction'); // 'introduction', 'meditation', 'questionnaire', 'completed'
  const [meditationTimeLeft, setMeditationTimeLeft] = useState(600); // 10 minutes in seconds
  const [currentInstructionIndex, setCurrentInstructionIndex] = useState(0);
  const [responses, setResponses] = useState({
    stressLevel: null,
    relaxationLevel: null,
  });
  const [progress, setProgress] = useState(new Animated.Value(0));
  const navigation = useNavigation();

  const instructions = [
    { time: 0, text: 'Welcome to the guided meditation session.' },
    { time: 10, text: 'Find a comfortable seated position and close your eyes for 20 seconds. Then open your eyes' },
    { time: 30, text: 'Take a deep breath in... and out.' },
    { time: 60, text: 'Focus on your breathing, feeling the air enter and leave your body.' },
    { time: 90, text: 'Gently tense and relax your muscles starting from your toes to your head.' },
    { time: 180, text: 'Visualize a calming scene, like a peaceful beach or a quiet forest.' },
    { time: 300, text: 'Continue to breathe deeply and let go of any tension.' },
    { time: 480, text: 'You are relaxed and at peace.' },
    { time: 540, text: 'Begin to bring your awareness back to the present moment.' },
    { time: 570, text: 'Gently wiggle your fingers and toes.' },
    { time: 590, text: 'When you are ready, slowly open your eyes.' },
    { time: 600, text: 'Meditation complete. Thank you for participating.' },
  ];

  useEffect(() => {
    if (step === 'meditation') {
      const timer = setInterval(() => {
        setMeditationTimeLeft((prevTime) => {
          if (prevTime <= 1) {
            clearInterval(timer);
            setStep('questionnaire');
            return 0;
          }
          return prevTime - 1;
        });
      }, 1000);

      return () => clearInterval(timer);
    }
  }, [step]);

  useEffect(() => {
    if (step === 'meditation') {
      // Update the current instruction based on the time elapsed
      const elapsed = 600 - meditationTimeLeft;
      const nextInstructionIndex = instructions.findIndex(
        (instruction, index) =>
          elapsed >= instruction.time &&
          (instructions[index + 1] ? elapsed < instructions[index + 1].time : true)
      );
      setCurrentInstructionIndex(nextInstructionIndex);

      // Update progress bar
      Animated.timing(progress, {
        toValue: (elapsed / 600) * 100,
        duration: 500,
        useNativeDriver: false,
      }).start();
    }
  }, [meditationTimeLeft]);

  const handleStartMeditation = () => {
    setStep('meditation');
  };

  const handleResponseChange = (key, value) => {
    setResponses((prevResponses) => ({
      ...prevResponses,
      [key]: value,
    }));
  };

  const handleSubmit = async () => {
    const data = {
      paradigm: 'MentalRelaxation',
      ambulatoryUUID: 'dummy',
      time: new Date().toISOString(),
      responses,
    };

    try {
      const response = await fetch('http://localhost:3000/submit', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      });

      if (response.ok) {
        // Handle successful response
        console.log('Data submitted successfully');
        Alert.alert('Success', 'Your responses have been submitted.');
        setStep('completed');
      } else {
        // Handle error response
        console.error('Error submitting data');
        Alert.alert('Error', 'There was a problem submitting your responses.');
      }
    } catch (error) {
      console.error('Network error:', error);
      Alert.alert('Error', 'Network error occurred while submitting your responses.');
    }
  };

  const isFormComplete = Object.values(responses).every((value) => value !== null);

  return (
    <View style={styles.container}>
      {step === 'introduction' && (
        <View style={styles.content}>
          <Text style={styles.title}>Guided Meditation</Text>
          <Text style={styles.instructionText}>
            This meditation will guide you through relaxation techniques over the next 10 minutes.
          </Text>
          <TouchableOpacity style={styles.startButton} onPress={handleStartMeditation}>
            <Text style={styles.startButtonText}>Start Meditation</Text>
          </TouchableOpacity>
        </View>
      )}

      {step === 'meditation' && (
        <View style={styles.content}>
          <Text style={styles.instructionText}>
            {instructions[currentInstructionIndex]?.text}
          </Text>
          <View style={styles.progressBarContainer}>
            <View style={styles.progressBarBackground}>
              <Animated.View
                style={[
                  styles.progressBarFill,
                  { width: progress.interpolate({ inputRange: [0, 100], outputRange: ['0%', '100%'] }) },
                ]}
              />
            </View>
            <Text style={styles.timeLeftText}>
              Time Left: {Math.floor(meditationTimeLeft / 60)}:
              {String(meditationTimeLeft % 60).padStart(2, '0')}
            </Text>
          </View>
        </View>
      )}

      {step === 'questionnaire' && (
        <ScrollView contentContainerStyle={styles.content} showsVerticalScrollIndicator={false}>
          <Text style={styles.title}>Post-Meditation Questionnaire</Text>
          <View style={styles.questionContainer}>
            <Text style={styles.questionText}>How stressed do you feel right now?</Text>
            <View style={styles.ratingContainer}>
              {[0, 1, 2, 3, 4, 5].map((value) => (
                <TouchableOpacity
                  key={value}
                  style={styles.ratingCircle}
                  onPress={() => handleResponseChange('stressLevel', value)}
                >
                  <Text
                    style={[
                      styles.ratingNumber,
                      responses.stressLevel === value && styles.selectedRating,
                    ]}
                  >
                    {value}
                  </Text>
                </TouchableOpacity>
              ))}
            </View>
          </View>

          <View style={styles.questionContainer}>
            <Text style={styles.questionText}>How relaxed do you feel right now?</Text>
            <View style={styles.ratingContainer}>
              {[0, 1, 2, 3, 4, 5].map((value) => (
                <TouchableOpacity
                  key={value}
                  style={styles.ratingCircle}
                  onPress={() => handleResponseChange('relaxationLevel', value)}
                >
                  <Text
                    style={[
                      styles.ratingNumber,
                      responses.relaxationLevel === value && styles.selectedRating,
                    ]}
                  >
                    {value}
                  </Text>
                </TouchableOpacity>
              ))}
            </View>
          </View>

          {/* Submit Button */}
          <TouchableOpacity
            style={[styles.submitButton, !isFormComplete && styles.disabledButton]}
            onPress={handleSubmit}
            disabled={!isFormComplete}
          >
            <Text style={styles.submitButtonText}>Submit</Text>
          </TouchableOpacity>
        </ScrollView>
      )}

      {step === 'completed' && (
        <View style={styles.content}>
          <Text style={styles.title}>Thank You!</Text>
          <Text style={styles.instructionText}>
            Your responses have been recorded. You may now return to the main menu.
          </Text>
          <TouchableOpacity
            style={styles.startButton}
            onPress={() => navigation.navigate('ParadigmSelectionScreen')}
          >
            <Text style={styles.startButtonText}>Back to Menu</Text>
          </TouchableOpacity>
        </View>
      )}
    </View>
  );
}
const styles = StyleSheet.create({
  // Container styles
  container: {
    flex: 1,
    backgroundColor: '#f8f9fa',
  },
  content: {
    flex: 1,
    paddingVertical: 40,
    paddingHorizontal: 20,
    alignItems: 'center',
    // justifyContent: 'center',
    marginTop:60,
  },
  // Text styles
  title: {
    fontSize: 28,
    fontWeight: 'bold',
    color: '#333',
    textAlign: 'center',
    marginBottom: 30,
  },
  instructionText: {
    fontSize: 20,
    color: '#333',
    textAlign: 'center',
    marginBottom: 40,
  },
  // Start button styles
  startButton: {
    backgroundColor: '#4682B4',
    paddingVertical: 15,
    paddingHorizontal: 40,
    borderRadius: 5,
  },
  startButtonText: {
    color: '#fff',
    fontSize: 20,
    fontWeight: 'bold',
  },
  // Progress bar styles
  progressBarContainer: {
    width: '100%',
    alignItems: 'center',
  },
  progressBarBackground: {
    width: '100%',
    height: 20,
    backgroundColor: '#d3d3d3',
    borderRadius: 10,
    overflow: 'hidden',
    marginBottom: 10,
  },
  progressBarFill: {
    height: '100%',
    backgroundColor: '#4682B4',
  },
  timeLeftText: {
    fontSize: 16,
    color: '#333',
  },
  // Questionnaire styles
  questionContainer: {
    marginBottom: 40,
    width: '100%',
    alignItems: 'center',
  },
  questionText: {
    fontSize: 20,
    color: '#333',
    textAlign: 'center',
    marginBottom: 20,
  },
  ratingContainer: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    width: SCREEN_WIDTH * 0.8,
  },
  ratingCircle: {
    width: 50,
    height: 50,
    borderRadius: 25,
    backgroundColor: '#d3d3d3',
    // justifyContent: 'center',
    marginTop: 60,
    alignItems: 'center',
  },
  ratingNumber: {
    fontSize: 18,
    color: '#333',
  },
  selectedRating: {
    fontWeight: 'bold',
    color: '#4682B4',
  },
  // Submit button styles
  submitButton: {
    backgroundColor: '#4682B4',
    paddingVertical: 15,
    paddingHorizontal: 30,
    borderRadius: 5,
    marginTop: 20,
    marginBottom: 40,
  },
  disabledButton: {
    backgroundColor: '#A9A9A9', // Gray color to indicate disabled state
  },
  submitButtonText: {
    color: '#fff',
    fontSize: 18,
    fontWeight: 'bold',
    textAlign: 'center',
  },
});

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/ema-questionnaire.js
================================================================================
import React, { useState } from 'react';
import { View, Text, StyleSheet, TouchableOpacity, Dimensions, Alert, ScrollView } from 'react-native';
import { MaterialCommunityIcons } from '@expo/vector-icons';

const { width: SCREEN_WIDTH } = Dimensions.get('window');

export default function EMAQuestionnaireScreen() {
  const [responses, setResponses] = useState({
    stressLevel: null,
    mood: null,
    energy: null,
    independence: null,
  });

  const questions = [
    {
      key: 'stressLevel',
      question: 'How stressed are you feeling today?',
      icons: [
        { level: 0, icon: 'emoticon-excited-outline', color: '#4CAF50' },
        { level: 1, icon: 'emoticon-happy-outline', color: '#8BC34A' },
        { level: 2, icon: 'emoticon-neutral-outline', color: '#FFEB3B' },
        { level: 3, icon: 'emoticon-sad-outline', color: '#FFC107' },
        { level: 4, icon: 'emoticon-dead-outline', color: '#FF9800' },
        { level: 5, icon: 'emoticon-angry-outline', color: '#F44336' },
      ],
    },
    {
      key: 'mood',
      question: 'How do you feel today? (Sad to Cheerful)',
      icons: [
        { level: 0, icon: 'emoticon-cry-outline', color: '#2196F3' },
        { level: 1, icon: 'emoticon-frown-outline', color: '#42A5F5' },
        { level: 2, icon: 'emoticon-neutral-outline', color: '#64B5F6' },
        { level: 3, icon: 'emoticon-happy-outline', color: '#90CAF9' },
        { level: 4, icon: 'emoticon-excited-outline', color: '#BBDEFB' },
        { level: 5, icon: 'emoticon-cool-outline', color: '#E3F2FD' },
      ],
    },
    {
      key: 'energy',
      question: 'How energetic do you feel? (Quiet to Active)',
      icons: [
        { level: 0, icon: 'weather-night', color: '#9C27B0' },
        { level: 1, icon: 'weather-sunset-down', color: '#AB47BC' },
        { level: 2, icon: 'weather-cloudy', color: '#BA68C8' },
        { level: 3, icon: 'weather-sunset', color: '#CE93D8' },
        { level: 4, icon: 'weather-sunny', color: '#E1BEE7' },
        { level: 5, icon: 'white-balance-sunny', color: '#F3E5F5' },
      ],
    },
    {
      key: 'independence',
      question: 'How independent do you feel? (Dependent to Independent)',
      icons: [
        { level: 0, icon: 'account-child-outline', color: '#FF5722' },
        { level: 1, icon: 'account-supervisor-outline', color: '#FF7043' },
        { level: 2, icon: 'account-outline', color: '#FF8A65' },
        { level: 3, icon: 'account', color: '#FFAB91' },
        { level: 4, icon: 'account-star-outline', color: '#FFCCBC' },
        { level: 5, icon: 'account-tie-outline', color: '#FBE9E7' },
      ],
    },
  ];

  const handleRatingPress = (questionKey, rating) => {
    setResponses((prevResponses) => ({
      ...prevResponses,
      [questionKey]: rating,
    }));
  };

  const handleSubmit = async () => {
    const data = {
      paradigm: 'EMAQuestion',
      ambulatoryUUID: 'dummy',
      time: new Date().toISOString(),
      responses,
    };
    console.log(data)

    try {
      const response = await fetch('http://localhost:3000/submit', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      });

      if (response.ok) {
        // Handle successful response
        console.log('Data submitted successfully');
        Alert.alert('Success', 'Your responses have been submitted.');
      } else {
        // Handle error response
        console.error('Error submitting data');
        Alert.alert('Error', 'There was a problem submitting your responses.');
      }
    } catch (error) {
      console.error('Network error:', error);
      Alert.alert('Error', 'Network error occurred while submitting your responses.');
    }
  };

  const isFormComplete = Object.values(responses).every((value) => value !== null);

  return (
    <View style={styles.container}>
      <ScrollView contentContainerStyle={styles.content} showsVerticalScrollIndicator={false}>
        {questions.map((question) => (
          <View key={question.key} style={styles.questionContainer}>
            <Text style={styles.title}>{question.question}</Text>
            <View style={styles.ratingContainer}>
              {question.icons.map((item) => (
                <TouchableOpacity
                  key={item.level}
                  style={styles.iconContainer}
                  onPress={() => handleRatingPress(question.key, item.level)}
                >
                  <MaterialCommunityIcons
                    name={item.icon}
                    size={50}
                    color={responses[question.key] === item.level ? item.color : '#d3d3d3'}
                  />
                  <Text style={styles.ratingLabel}>{item.level}</Text>
                </TouchableOpacity>
              ))}
            </View>
          </View>
        ))}

        {/* Submit Button */}
        <TouchableOpacity
          style={[styles.submitButton, !isFormComplete && styles.disabledButton]}
          onPress={handleSubmit}
          disabled={!isFormComplete}
        >
          <Text style={styles.submitButtonText}>Submit</Text>
        </TouchableOpacity>
      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  // Container styles
  container: {
    flex: 1,
    backgroundColor: '#f8f9fa',
  },
  content: {
    paddingVertical: 20,
    alignItems: 'center', // Center horizontally
    paddingHorizontal: 20,
  },
  // Question container
  questionContainer: {
    marginBottom: 40,
    width: '100%',
    alignItems: 'center',
  },
  // Text styles
  title: {
    fontSize: 20,
    fontWeight: 'bold',
    color: '#333',
    textAlign: 'center',
    marginBottom: 20,
  },
  // Rating styles
  ratingContainer: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    width: SCREEN_WIDTH * 0.9,
  },
  iconContainer: {
    alignItems: 'center',
  },
  ratingLabel: {
    marginTop: 5,
    fontSize: 14,
    color: '#333',
  },
  // Submit button styles
  submitButton: {
    backgroundColor: '#4682B4',
    paddingVertical: 15,
    paddingHorizontal: 30,
    borderRadius: 5,
    marginTop: 20,
    marginBottom: 40,
  },
  disabledButton: {
    backgroundColor: '#A9A9A9', // Gray color to indicate disabled state
  },
  submitButtonText: {
    color: '#fff',
    fontSize: 18,
    fontWeight: 'bold',
    textAlign: 'center',
  },
});

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/(tabs)/ParadigmSelectionScreen.js
================================================================================
import React from 'react';
import { View, Text, TouchableOpacity, StyleSheet, ScrollView, Dimensions } from 'react-native';
import { useRouter } from 'expo-router';

const SCREEN_HEIGHT = Dimensions.get('window').height;
const SCREEN_WIDTH = Dimensions.get('window').width;

// List of selections remains the same
const selections = [
  { id: '1', title: 'MIST question', route: 'mist-question' },
  { id: '2', title: 'Fear conditioning', route: 'fear-conditioning' },
  { id: '3', title: 'Mental relaxation', route: 'mental-relaxation' },
  { id: '4', title: 'Motor imagery', route: 'motor-imagery' },
  { id: '5', title: 'Auditory oddball', route: 'auditory-oddball' },
  { id: '6', title: 'EMA', route: 'ema-questionnaire'},
];

export default function ParadigmSelectionScreen() {
  const router = useRouter();

  return (
    <View style={styles.container}>
      <ScrollView contentContainerStyle={styles.listContainer}>
        {selections.map((item) => (
          <TouchableOpacity
            key={item.id}
            style={styles.selectionButton}
            onPress={() => router.push(item.route)} // Navigate to the appropriate route
          >
            <Text style={styles.selectionText}>{item.title}</Text>
          </TouchableOpacity>
        ))}
      </ScrollView>
    </View>
  );
}

// Styles remain the same as updated earlier
const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#d3d3d3',
    paddingTop:50,
    paddingBottom:70,
  },
  listContainer: {
    paddingVertical: 20,
  },
  selectionButton: {
    height: SCREEN_HEIGHT / 7,
    width: SCREEN_WIDTH * 0.9,
    backgroundColor: '#4682B4',
    marginVertical: 10,
    justifyContent: 'center',
    alignItems: 'center',
    borderRadius: 5,
    alignSelf: 'center', // Center the buttons horizontally
  },
  selectionText: {
    fontSize: 16,
    fontWeight: 'bold',
    color: '#fff',
    textAlign: 'center',
  },
});

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/(tabs)/index.tsx
================================================================================
import { Image, StyleSheet, Platform } from 'react-native';

import { HelloWave } from '@/components/HelloWave';
import ParallaxScrollView from '@/components/ParallaxScrollView';
import { ThemedText } from '@/components/ThemedText';
import { ThemedView } from '@/components/ThemedView';

export default function HomeScreen() {
  return (
    <ParallaxScrollView
      headerBackgroundColor={{ light: '#A1CEDC', dark: '#1D3D47' }}
      headerImage={
        <Image
          source={require('@/assets/images/partial-react-logo.png')}
          style={styles.reactLogo}
        />
      }>
      <ThemedView style={styles.titleContainer}>
        <ThemedText type="title">Welcome!</ThemedText>
        <HelloWave />
      </ThemedView>
      <ThemedView style={styles.stepContainer}>
        <ThemedText type="subtitle">Step 1: Try it</ThemedText>
        <ThemedText>
          Edit <ThemedText type="defaultSemiBold">app/(tabs)/index.tsx</ThemedText> to see changes.
          Press{' '}
          <ThemedText type="defaultSemiBold">
            {Platform.select({
              ios: 'cmd + d',
              android: 'cmd + m',
              web: 'F12'
            })}
          </ThemedText>{' '}
          to open developer tools.
        </ThemedText>
      </ThemedView>
      <ThemedView style={styles.stepContainer}>
        <ThemedText type="subtitle">Step 2: Explore</ThemedText>
        <ThemedText>
          Tap the Explore tab to learn more about what's included in this starter app.
        </ThemedText>
      </ThemedView>
      <ThemedView style={styles.stepContainer}>
        <ThemedText type="subtitle">Step 3: Get a fresh start</ThemedText>
        <ThemedText>
          When you're ready, run{' '}
          <ThemedText type="defaultSemiBold">npm run reset-project</ThemedText> to get a fresh{' '}
          <ThemedText type="defaultSemiBold">app</ThemedText> directory. This will move the current{' '}
          <ThemedText type="defaultSemiBold">app</ThemedText> to{' '}
          <ThemedText type="defaultSemiBold">app-example</ThemedText>.
        </ThemedText>
      </ThemedView>
    </ParallaxScrollView>
  );
}

const styles = StyleSheet.create({
  titleContainer: {
    flexDirection: 'row',
    alignItems: 'center',
    gap: 8,
  },
  stepContainer: {
    gap: 8,
    marginBottom: 8,
  },
  reactLogo: {
    height: 178,
    width: 290,
    bottom: 0,
    left: 0,
    position: 'absolute',
  },
});

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/(tabs)/_layout.tsx
================================================================================
import { Tabs } from 'expo-router';
import React from 'react';
import { Platform } from 'react-native';

import { HapticTab } from '@/components/HapticTab';
import { IconSymbol } from '@/components/ui/IconSymbol';
import TabBarBackground from '@/components/ui/TabBarBackground';
import { Colors } from '@/constants/Colors';
import { useColorScheme } from '@/hooks/useColorScheme';

export default function TabLayout() {
  const colorScheme = useColorScheme();

  return (
    <Tabs
      screenOptions={{
        tabBarActiveTintColor: Colors[colorScheme ?? 'light'].tint,
        headerShown: false,
        tabBarButton: HapticTab,
        tabBarBackground: TabBarBackground,
        tabBarStyle: Platform.select({
          ios: {
            // Use a transparent background on iOS to show the blur effect
            position: 'absolute',
          },
          default: {},
        }),
      }}
    >
      <Tabs.Screen
        name="index"
        options={{
          title: 'Home',
          tabBarIcon: ({ color }) => <IconSymbol size={28} name="house.fill" color={color} />,
        }}
      />
      <Tabs.Screen
        name="explore"
        options={{
          title: 'Explore',
          tabBarIcon: ({ color }) => <IconSymbol size={28} name="paperplane.fill" color={color} />,
        }}
      />
      <Tabs.Screen
        name="ParadigmSelectionScreen"
        options={{
          title: 'Paradigm',
          tabBarIcon: ({ color }) => <IconSymbol size={28} name="list.bullet" color={color} />,
        }}
      />
    </Tabs>
  );
}

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/(tabs)/explore.tsx
================================================================================
import { StyleSheet, Image, Platform } from 'react-native';

import { Collapsible } from '@/components/Collapsible';
import { ExternalLink } from '@/components/ExternalLink';
import ParallaxScrollView from '@/components/ParallaxScrollView';
import { ThemedText } from '@/components/ThemedText';
import { ThemedView } from '@/components/ThemedView';
import { IconSymbol } from '@/components/ui/IconSymbol';

export default function TabTwoScreen() {
  return (
    <ParallaxScrollView
      headerBackgroundColor={{ light: '#D0D0D0', dark: '#353636' }}
      headerImage={
        <IconSymbol
          size={310}
          color="#808080"
          name="chevron.left.forwardslash.chevron.right"
          style={styles.headerImage}
        />
      }>
      <ThemedView style={styles.titleContainer}>
        <ThemedText type="title">Explore</ThemedText>
      </ThemedView>
      <ThemedText>This app includes example code to help you get started.</ThemedText>
      <Collapsible title="File-based routing">
        <ThemedText>
          This app has two screens:{' '}
          <ThemedText type="defaultSemiBold">app/(tabs)/index.tsx</ThemedText> and{' '}
          <ThemedText type="defaultSemiBold">app/(tabs)/explore.tsx</ThemedText>
        </ThemedText>
        <ThemedText>
          The layout file in <ThemedText type="defaultSemiBold">app/(tabs)/_layout.tsx</ThemedText>{' '}
          sets up the tab navigator.
        </ThemedText>
        <ExternalLink href="https://docs.expo.dev/router/introduction">
          <ThemedText type="link">Learn more</ThemedText>
        </ExternalLink>
      </Collapsible>
      <Collapsible title="Android, iOS, and web support">
        <ThemedText>
          You can open this project on Android, iOS, and the web. To open the web version, press{' '}
          <ThemedText type="defaultSemiBold">w</ThemedText> in the terminal running this project.
        </ThemedText>
      </Collapsible>
      <Collapsible title="Images">
        <ThemedText>
          For static images, you can use the <ThemedText type="defaultSemiBold">@2x</ThemedText> and{' '}
          <ThemedText type="defaultSemiBold">@3x</ThemedText> suffixes to provide files for
          different screen densities
        </ThemedText>
        <Image source={require('@/assets/images/react-logo.png')} style={{ alignSelf: 'center' }} />
        <ExternalLink href="https://reactnative.dev/docs/images">
          <ThemedText type="link">Learn more</ThemedText>
        </ExternalLink>
      </Collapsible>
      <Collapsible title="Custom fonts">
        <ThemedText>
          Open <ThemedText type="defaultSemiBold">app/_layout.tsx</ThemedText> to see how to load{' '}
          <ThemedText style={{ fontFamily: 'SpaceMono' }}>
            custom fonts such as this one.
          </ThemedText>
        </ThemedText>
        <ExternalLink href="https://docs.expo.dev/versions/latest/sdk/font">
          <ThemedText type="link">Learn more</ThemedText>
        </ExternalLink>
      </Collapsible>
      <Collapsible title="Light and dark mode components">
        <ThemedText>
          This template has light and dark mode support. The{' '}
          <ThemedText type="defaultSemiBold">useColorScheme()</ThemedText> hook lets you inspect
          what the user's current color scheme is, and so you can adjust UI colors accordingly.
        </ThemedText>
        <ExternalLink href="https://docs.expo.dev/develop/user-interface/color-themes/">
          <ThemedText type="link">Learn more</ThemedText>
        </ExternalLink>
      </Collapsible>
      <Collapsible title="Animations">
        <ThemedText>
          This template includes an example of an animated component. The{' '}
          <ThemedText type="defaultSemiBold">components/HelloWave.tsx</ThemedText> component uses
          the powerful <ThemedText type="defaultSemiBold">react-native-reanimated</ThemedText>{' '}
          library to create a waving hand animation.
        </ThemedText>
        {Platform.select({
          ios: (
            <ThemedText>
              The <ThemedText type="defaultSemiBold">components/ParallaxScrollView.tsx</ThemedText>{' '}
              component provides a parallax effect for the header image.
            </ThemedText>
          ),
        })}
      </Collapsible>
    </ParallaxScrollView>
  );
}

const styles = StyleSheet.create({
  headerImage: {
    color: '#808080',
    bottom: -90,
    left: -35,
    position: 'absolute',
  },
  titleContainer: {
    flexDirection: 'row',
    gap: 8,
  },
});

================================================================================

File: /Users/shiyuanduan/Documents/Expo/stressed-out/app/utils/ImageManager.js
================================================================================
const importAll = (r) => r.keys().map(r);

const fearSet1 = importAll(require.context('../../assets/images/Fear/Set 1', false, /\.(png|jpe?g|svg)$/));
const fearSet2 = importAll(require.context('../../assets/images/Fear/Set 2', false, /\.(png|jpe?g|svg)$/));
const fearSet3 = importAll(require.context('../../assets/images/Fear/Set 3', false, /\.(png|jpe?g|svg)$/));
const fearSet4 = importAll(require.context('../../assets/images/Fear/Set 4', false, /\.(png|jpe?g|svg)$/));

const happySet1 = importAll(require.context('../../assets/images/Happy/Set 1', false, /\.(png|jpe?g|svg)$/));
const happySet2 = importAll(require.context('../../assets/images/Happy/Set 2', false, /\.(png|jpe?g|svg)$/));
const happySet3 = importAll(require.context('../../assets/images/Happy/Set 3', false, /\.(png|jpe?g|svg)$/));
const happySet4 = importAll(require.context('../../assets/images/Happy/Set 4', false, /\.(png|jpe?g|svg)$/));

const images = {
  Fear: {
    'Set 1': fearSet1,
    'Set 2': fearSet2,
    'Set 3': fearSet3,
    'Set 4': fearSet4,
  },
  Happy: {
    'Set 1': happySet1,
    'Set 2': happySet2,
    'Set 3': happySet3,
    'Set 4': happySet4,
  },
};

export default images;

================================================================================

